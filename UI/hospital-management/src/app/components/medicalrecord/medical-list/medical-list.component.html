<div class="layout">
    <app-navbar></app-navbar>
    <div class="container mt-5">
      <div class="d-flex justify-content-end mb-3">
        <div (click)="goToHome()"><svg class="home" xmlns="http://www.w3.org/2000/svg" width="32" height="32" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-home"><path d="M3 9l9-7 9 7v11a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z"></path><polyline points="9 22 9 12 15 12 15 22"></polyline></svg></div>
      </div>
      <h2 class="mb-4">All Medical Records</h2>
  
      <div *ngIf="errorMessage" class="alert alert-danger">{{ errorMessage }}</div>
  
      <table *ngIf="medicalRecords.length > 0" class="table table-bordered">
        <thead class="thead-dark">
          <tr>
            <th>Record ID</th>
            <th>Patient ID</th>
            <th>Doctor ID</th>
            <th>Diagnosis</th>
            <th>Prescription</th>
            <th>Treatment Date</th>
            <th>Created Date</th>
            <th>Actions</th> 
        </thead>
        <tbody>
          <tr *ngFor="let record of medicalRecords">
            <td>{{ record.recordId }}</td>
            <td>{{ record.patientId }}</td>
            <td>{{ record.doctorId }}</td>
            <td>{{ record.diagnosis }}</td>
            <td>{{ record.prescription || '-' }}</td>
            <td>{{ record.treatmentDate | date:'shortDate' }}</td>
            <td>{{ record.createdDate | date:'shortDate' }}</td>
            <td>
                <button class="btn btn-danger btn-sm" (click)="record.recordId !== undefined && deleteMedicalRecord(record.recordId)">Delete</button>
            </td>
          </tr>
        </tbody>
      </table>
  
      <div *ngIf="medicalRecords.length === 0" class="alert alert-info">
        No medical records found.
      </div>
  
      <button class="btn btn-primary" (click)="addMedicalRecord()">
        Add New Medical Record
      </button>
    </div>
  </div>
  